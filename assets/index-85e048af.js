import{g as k,a2 as K,k as f,F as G,G as q,r as l,o as v,p as I,N as t,l as s,u as H,a1 as e,a7 as L,a8 as O,M as j,a6 as z,v as V,j as E,x as F}from"./vendor-31e96ae5.js";import{u as M,g as J,a as X,_ as Y}from"./index-10a79b7e.js";import{u as Z}from"./useTablePage-7b6d25a8.js";const ee={class:"mock-list"},te={class:"flexBetween"},w="mock-demo4",ne=k({__name:"list",props:{activeType:{type:String}},emits:["queryCacheInit"],setup(x,{emit:_}){const{t:r}=K(),y=_,p=x,{$app:d,proxy:g,$router:i}=M(),{query:o,queryItems:c,searchQuery:u,selectedIds:b,handleSelectionChange:S}=Z(w,y);o.value={type:p.activeType,selectValue:"name",content:""},c.value={content:{label:"插槽自定义",type:"slot",slotName:"content"}};const $=f([{prop:"name",label:"名称",minWidth:180},{prop:"appId",label:"APPID",minWidth:180},{prop:"type",label:"类型",minWidth:150,custom:"tag-status",customRender:{options:{1:{type:"danger",name:"黑名单"},2:{type:"primary",name:"白名单"}}}},{prop:"status",label:"状态",minWidth:150,custom:"status",customRender:{options:{1:{type:"success",name:"已发布"},2:{type:"info",name:"未发布"},3:{type:"danger",name:"已驳回"},4:{type:"warning",name:"上线审核中"},5:{type:"primary",name:"下线审核中"}}}},{prop:"date",label:"更新时间",minWidth:180},{prop:"operation",label:"操作",width:180,fixed:"right"}]),N=a=>a.map(n=>n),B=[{type:"detail",label:r("btn.detail")},{type:"delete",label:r("btn.delete"),btnType:"danger",disabled:a=>a.status===3}],P=a=>{const{type:n,record:m}=a;T[n](m)},T=G({toggleQuery(){q(()=>{g.$refs.myTableRef.mediaHeight()})},detail:a=>{i.push({name:`${w}::detail`,query:{id:a.id}})},delete:a=>{d.$deleteConfirm({title:r("tip.deleteConfirmTitle",{t:"模版名称",n:a.name})}).then(()=>{console.log("删除",a),d.$message.warning("接口待提供！")})}});return(a,n)=>{const m=l("el-option"),Q=l("el-select"),R=l("el-button"),W=l("el-input"),A=l("tu-query"),C=l("tu-button"),D=l("my-operation"),U=l("table-page");return v(),I("div",ee,[t(U,{ref:"myTableRef",query:e(o),columns:$.value,operations:B,tableAttrs:{"row-key":"id"},"with-order":!1,draggable:"","draggable-option":{show:!0,width:"80",align:"center"},loadDataApi:e(J),transformListData:N,onHandleOperation:P,onSelectionChange:e(S)},{query:s(()=>[H("div",te,[t(A,{query:e(o),queryItems:e(c),"refresh-btn":{show:!0},onSearch:e(u),onToggle:T.toggleQuery},{content:s(({item:le})=>[t(W,{modelValue:e(o).content,"onUpdate:modelValue":n[1]||(n[1]=h=>e(o).content=h),style:{width:"320px"},placeholder:"请输入内容",onKeydown:L(e(u),["enter"])},{prepend:s(()=>[t(Q,{modelValue:e(o).selectValue,"onUpdate:modelValue":n[0]||(n[0]=h=>e(o).selectValue=h),placeholder:"Select",style:{width:"80px"}},{default:s(()=>[t(m,{label:"名称",value:"name"}),t(m,{label:"创建人",value:"createUser"})]),_:1},8,["modelValue"])]),append:s(()=>[t(R,{icon:e(O),onClick:e(u)},null,8,["icon","onClick"])]),_:1},8,["modelValue","onKeydown"])]),_:1},8,["query","queryItems","onSearch","onToggle"]),t(D,j(z({selectedTotal:e(b).length})),{buttonGroup:s(()=>[t(C,{type:"add"},{default:s(()=>n[2]||(n[2]=[V("新建")])),_:1}),t(C,{type:"import"},{default:s(()=>n[3]||(n[3]=[V("导入")])),_:1})]),_:1},16)])]),_:1},8,["query","columns","loadDataApi","onSelectionChange"])])}}}),ae={class:"page-list"},oe=k({__name:"index",setup(x){const{filter:_}=X(),r=f(!0),y=()=>{r.value=!1,q(()=>{r.value=!0})},p=f("1"),d=()=>{y(),_.resetQueryChche("mock-demo4")},g=i=>{i&&i.type&&(p.value=i.type)};return(i,o)=>{const c=l("el-tab-pane"),u=l("el-tabs");return v(),I("div",ae,[t(u,{modelValue:p.value,"onUpdate:modelValue":o[0]||(o[0]=b=>p.value=b),onTabChange:d,style:{padding:"0 16px"}},{default:s(()=>[t(c,{name:"1",label:"待审核列表"}),t(c,{name:"2",label:"已审核列表"})]),_:1},8,["modelValue"]),r.value?(v(),E(ne,{key:0,style:{height:"calc(100% - 40px)"},activeType:p.value,onQueryCacheInit:g},null,8,["activeType"])):F("",!0)])}}});const ie=Y(oe,[["__scopeId","data-v-51bf77a6"]]);export{ie as default};
