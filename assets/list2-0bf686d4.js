import{g as P,a6 as R,r as W,J as A,K as B,j as l,o as D,p as Q,C as o,l as n,s as U,V as a,aa as H,Q as L,ab as O,u as _}from"./vendor-47c5f7a7.js";import{u as j,g as z}from"./index-f30f1b4a.js";import{u as E}from"./useTablePage-3707817a.js";const G={class:"mock-list"},J={class:"flexBetween"},g="mock-demo3",Y=P({__name:"list2",setup(K){const{t:p}=R(),{$app:d,proxy:b,$router:h}=j(),{query:s,queryItems:m,searchQuery:f,selectedIds:V,handleSelectionChange:v}=E(g);s.value={selectValue:"name"},m.value={type:{modelValue:"",type:"el-select",label:"类型",width:"160px",options:[{value:1,label:"黑名单"},{value:2,label:"白名单"}],attrs:{placeholder:"单选按钮"}},custom:{label:"插槽自定义",modelValue:"",type:"slot",slotName:"custom"}};const w=W([{prop:"name",label:"名称",minWidth:180},{prop:"appId",label:"APPID",minWidth:180},{prop:"type",label:"类型",minWidth:150,custom:"tag-status",customRender:{options:{1:{type:"danger",name:"黑名单"},2:{type:"primary",name:"白名单"}}}},{prop:"status",label:"状态",minWidth:150,custom:"status",customRender:{options:{1:{type:"success",name:"已发布"},2:{type:"info",name:"未发布"},3:{type:"danger",name:"已驳回"},4:{type:"warning",name:"上线审核中"},5:{type:"primary",name:"下线审核中"}}}},{prop:"date",label:"更新时间",minWidth:180},{prop:"operation",label:"操作",width:180,fixed:"right"}]),x=e=>e.map(t=>t),T=[{type:"detail",label:p("btn.detail")},{type:"delete",label:p("btn.delete"),btnType:"danger",disabled:e=>e.status===3}],q=e=>{const{type:t,record:r}=e;i[t](r)},i=A({toggleQuery(){B(()=>{b.$refs.myTableRef.mediaHeight()})},detail:e=>{h.push({name:`${g}::detail`,query:{id:e.id}})},delete:e=>{d.$deleteConfirm({title:p("tip.deleteConfirmTitle",{t:"模版名称",n:e.name})}).then(()=>{console.log("删除",e),d.$message.warning("接口待提供！")})}});return(e,t)=>{const r=l("el-option"),C=l("el-select"),I=l("el-button"),k=l("el-input"),S=l("tu-query"),c=l("tu-button"),$=l("my-operation"),N=l("table-page");return D(),Q("div",G,[o(N,{ref:"myTableRef",query:a(s),columns:w.value,operations:T,tableAttrs:{"row-key":"id"},"with-order":!1,draggable:"","draggable-option":{show:!0,width:"80",align:"center"},loadDataApi:a(z),transformListData:x,onHandleOperation:q,onSelectionChange:a(v)},{query:n(()=>[U("div",J,[o(S,{queryItems:a(m),"refresh-btn":{show:!0},onSearch:a(f),onToggle:i.toggleQuery},{custom:n(({item:y})=>[o(k,{modelValue:y.modelValue,"onUpdate:modelValue":u=>y.modelValue=u,style:{width:"320px"},placeholder:"请输入内容"},{prepend:n(()=>[o(C,{modelValue:a(s).selectValue,"onUpdate:modelValue":t[0]||(t[0]=u=>a(s).selectValue=u),placeholder:"Select",style:{width:"80px"}},{default:n(()=>[o(r,{label:"名称",value:"name"}),o(r,{label:"创建人",value:"createUser"})]),_:1},8,["modelValue"])]),append:n(()=>[o(I,{icon:a(H)},null,8,["icon"])]),_:2},1032,["modelValue","onUpdate:modelValue"])]),_:1},8,["queryItems","onSearch","onToggle"]),o($,L(O({selectedTotal:a(V).length})),{buttonGroup:n(()=>[o(c,{type:"add"},{default:n(()=>t[1]||(t[1]=[_("新建")])),_:1}),o(c,{type:"import"},{default:n(()=>t[2]||(t[2]=[_("导入")])),_:1})]),_:1},16)])]),_:1},8,["query","columns","loadDataApi","onSelectionChange"])])}}});export{Y as default};
