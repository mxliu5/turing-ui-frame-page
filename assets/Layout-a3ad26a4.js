import{g as T,$ as E,r as s,o as n,p as x,u as w,N as t,l as e,a0 as N,O as B,a1 as $,j as i,v as S,t as L,s as W,k as z,w as O,J as R,I as G,K as X,L as F,x as K}from"./vendor-31e96ae5.js";import{u as H,a as U,l as Y,b as Z,_ as j,i as D}from"./index-10a79b7e.js";const ee={class:"layout-header"},te={class:"tool-bar-left"},ne={class:"tool-bar-right flex"},oe={class:"label-item logou-wrap"},ae=T({__name:"Header",setup(V){const{$router:r}=H(),{authority:f,theme:h}=U(),{userName:y}=E(f),u=c=>{c==="logout"&&Z()},m=[{title:"默认主题",type:"default"},{title:"松石绿主题",type:"green"},{title:"暗夜灰",type:"gray"}],C=c=>{h.setTheme(c)},v=c=>{W.setLocalstorage("localeKey",c),r.go(0)};return(c,l)=>{const o=s("tu-svg-icon"),p=s("el-dropdown-item"),g=s("el-dropdown-menu"),b=s("el-dropdown");return n(),x("div",ee,[w("div",te,[t(o,{class:"logo",name:"logo",width:28}),l[0]||(l[0]=w("h2",{class:"logo-text",style:{"margin-left":"12px"}},"基础应用框架",-1))]),w("div",ne,[t(b,{onCommand:v},{dropdown:e(()=>[t(g,null,{default:e(()=>[(n(!0),x(N,null,B($(Y),(a,_)=>(n(),i(p,{key:_,command:a.value},{default:e(()=>[S(L(a.label),1)]),_:2},1032,["command"]))),128))]),_:1})]),default:e(()=>[t(o,{name:"lang",width:28,style:{cursor:"pointer"}})]),_:1}),t(b,{onCommand:C},{dropdown:e(()=>[t(g,null,{default:e(()=>[(n(),x(N,null,B(m,(a,_)=>t(p,{key:_,command:a.type},{default:e(()=>[S(L(a.title),1)]),_:2},1032,["command"])),64))]),_:1})]),default:e(()=>[t(o,{name:"pifu",width:32,style:{margin:"0 16px",cursor:"pointer"}})]),_:1}),t(o,{name:"icon-user",width:36,style:{"margin-right":"16px"}}),t(b,{onCommand:u},{dropdown:e(()=>[t(g,null,{default:e(()=>[t(p,{command:"logout"},{default:e(()=>l[2]||(l[2]=[S("退出登录 ")])),_:1})]),_:1})]),default:e(()=>[w("div",oe,[l[1]||(l[1]=w("label",null,"账号：",-1)),S(" "+L($(y))+" ",1),t(o,{name:"icon-drop",style:{"margin-left":"10px"}})])]),_:1})])])}}});const le=j(ae,[["__scopeId","data-v-8b9dd905"]]),se={class:"layout-sidebar"},re={style:{"padding-left":"8px"}},ce={style:{"padding-left":"8px"}},ue=T({__name:"Sidebar",setup(V){const{$app:r}=H(),{menu:f,authority:h}=U(),{menuList:y}=E(h),{isCollapse:u}=E(f),m=()=>{f.collapseChange(!u.value)},C=a=>{r.$router.push({path:a.url})},v=z(r.$route.path),c=a=>{v.value=a},l=z(r.$route.path),o=()=>{const _=`/${r.$route.path.split("/")[1]}`;l.value=_},p=z([""]),g=()=>{p.value=[l.value]};O(()=>r.$route,()=>{o(),g()});const b=()=>{const _=window.innerWidth<1e3;f.collapseChange(_)};return R(()=>{o(),g();const a=G(b,200);window.addEventListener("resize",a)}),X(()=>{window.removeEventListener("resize",b)}),(a,_)=>{const k=s("tu-svg-icon"),I=s("el-menu-item"),q=s("el-sub-menu"),J=s("tempalte"),M=s("el-menu");return n(),x("div",se,[t(M,{"default-active":l.value,"default-openeds":p.value,collapse:$(u),onSelect:c,class:"layout-menu"},{default:e(()=>[(n(!0),x(N,null,B($(y),(d,P)=>(n(),i(J,{key:P},{default:e(()=>[d.children&&d.children.length>0?(n(),i(q,{key:0,index:d.url},{title:e(()=>[t(k,{name:d.icon,width:"16px"},null,8,["name"]),w("span",re,L(d.name),1)]),default:e(()=>[(n(!0),x(N,null,B(d.children,(A,Q)=>(n(),i(I,{index:A.url,key:Q,onClick:pe=>C(A)},{default:e(()=>[S(L(A.name),1)]),_:2},1032,["index","onClick"]))),128))]),_:2},1032,["index"])):(n(),i(I,{key:1,index:d.url,onClick:A=>C(d)},{default:e(()=>[d.url===v.value?(n(),i(k,{key:0,name:d.icon+"2",width:"16px"},null,8,["name"])):(n(),i(k,{key:1,name:d.icon},null,8,["name"])),w("span",ce,L(d.name),1)]),_:2},1032,["index","onClick"]))]),_:2},1024))),128))]),_:1},8,["default-active","default-openeds","collapse"]),t(k,{class:F(["flod-btn",{expand:$(u)}]),name:"icon-flod",width:"18px",onClick:m},null,8,["class"])])}}});const de=j(ue,[["__scopeId","data-v-5a951b72"]]),_e={class:"layout-tab"},ie=T({__name:"Breadcrumb",setup(V){const{$app:r}=H(),f=(u,m)=>u.length-1===m,h=z([]),y=()=>{var l;const u=r.$route.name,v=(r.$route.matched.slice(-2,-1)[0].children||[]).filter(o=>u.includes(o.name)),c=(l=r.$route.query)==null?void 0:l.metaLabel;h.value=v.map((o,p)=>{var a,_,k;const g=f(v,p)?c||((a=o.meta)==null?void 0:a.label):(_=o.meta)==null?void 0:_.label,b=((k=o.name)==null?void 0:k.split("::")).length;return{title:g,name:o.name,params:r.$route.params,level:b}}).sort((o,p)=>o.level-p.level)};return O(()=>r.$route,()=>{y()}),R(()=>{y()}),(u,m)=>{const C=s("el-breadcrumb-item"),v=s("el-breadcrumb");return n(),x("div",_e,[t(v,{separator:"/"},{default:e(()=>[(n(!0),x(N,null,B(h.value,(c,l)=>(n(),i(C,{key:l,to:f(h.value,l)?"":{name:c.name,params:c.params},replace:""},{default:e(()=>[S(L(c.title),1)]),_:2},1032,["to"]))),128))]),_:1})])}}}),me={class:"layout-view"},ve=T({__name:"Layout",setup(V){return(r,f)=>{const h=s("el-header"),y=s("router-view"),u=s("el-main"),m=s("el-container");return n(),i(m,{class:F(["layout",{"only-view":$(D)}])},{default:e(()=>[$(D)?K("",!0):(n(),i(h,{key:0,style:{height:"50px"}},{default:e(()=>[t(le)]),_:1})),t(m,{class:"layout-section"},{default:e(()=>[$(D)?K("",!0):(n(),i(de,{key:0})),t(u,{class:"layout-main"},{default:e(()=>[t(ie),w("div",me,[t(y)])]),_:1})]),_:1})]),_:1},8,["class"])}}});export{ve as default};
