import{g as I,a7 as H,r as v,K as O,L as q,j as n,o as V,p as $,D as e,l,u as j,W as a,ac as z,ad as E,R as G,ab as F,v as w,k as J,x as M}from"./vendor-fa3ed480.js";import{u as X,g as Y,a as Z,_ as ee}from"./index-c0c00086.js";import{u as te}from"./useTablePage-8716c8fc.js";const ae={class:"mock-list"},oe={class:"flexBetween"},k="mock-demo4",ne=I({__name:"list",props:{activeType:{type:String}},emits:["queryCacheInit"],setup(x,{emit:g}){const{t:r}=H(),b=g,p=x,{$app:m,proxy:h,$router:u}=X(),{query:s,queryItems:c,searchQuery:d,selectedIds:f,handleSelectionChange:S}=te(k,b),R=()=>{s.value.selectValue="name"};s.value={selectValue:"name",type:p.activeType},c.value={custom:{label:"插槽自定义",modelValue:"",type:"slot",slotName:"custom"}};const N=v([{prop:"name",label:"名称",minWidth:180},{prop:"appId",label:"APPID",minWidth:180},{prop:"type",label:"类型",minWidth:150,custom:"tag-status",customRender:{options:{1:{type:"danger",name:"黑名单"},2:{type:"primary",name:"白名单"}}}},{prop:"status",label:"状态",minWidth:150,custom:"status",customRender:{options:{1:{type:"success",name:"已发布"},2:{type:"info",name:"未发布"},3:{type:"danger",name:"已驳回"},4:{type:"warning",name:"上线审核中"},5:{type:"primary",name:"下线审核中"}}}},{prop:"date",label:"更新时间",minWidth:180},{prop:"operation",label:"操作",width:180,fixed:"right"}]),Q=t=>t.map(o=>o),W=[{type:"detail",label:r("btn.detail")},{type:"delete",label:r("btn.delete"),btnType:"danger",disabled:t=>t.status===3}],B=t=>{const{type:o,record:_}=t;T[o](_)},T=O({toggleQuery(){q(()=>{h.$refs.myTableRef.mediaHeight()})},detail:t=>{u.push({name:`${k}::detail`,query:{id:t.id}})},delete:t=>{m.$deleteConfirm({title:r("tip.deleteConfirmTitle",{t:"模版名称",n:t.name})}).then(()=>{console.log("删除",t),m.$message.warning("接口待提供！")})}});return(t,o)=>{const _=n("el-option"),D=n("el-select"),P=n("el-button"),U=n("el-input"),A=n("tu-query"),C=n("tu-button"),K=n("my-operation"),L=n("table-page");return V(),$("div",ae,[e(L,{ref:"myTableRef",query:a(s),columns:N.value,operations:W,tableAttrs:{"row-key":"id"},"with-order":!1,draggable:"","draggable-option":{show:!0,width:"80",align:"center"},loadDataApi:a(Y),transformListData:Q,onHandleOperation:B,onSelectionChange:a(S)},{query:l(()=>[j("div",oe,[e(A,{queryItems:a(c),"refresh-btn":{show:!0},onReset:R,onSearch:a(d),onToggle:T.toggleQuery},{custom:l(({item:y})=>[e(U,{modelValue:y.modelValue,"onUpdate:modelValue":i=>y.modelValue=i,style:{width:"320px"},placeholder:"请输入内容",onKeydown:z(i=>a(d)({custom:y.modelValue}),["enter"])},{prepend:l(()=>[e(D,{modelValue:a(s).selectValue,"onUpdate:modelValue":o[0]||(o[0]=i=>a(s).selectValue=i),placeholder:"Select",style:{width:"80px"}},{default:l(()=>[e(_,{label:"名称",value:"name"}),e(_,{label:"创建人",value:"createUser"})]),_:1},8,["modelValue"])]),append:l(()=>[e(P,{icon:a(E),onClick:i=>a(d)({custom:y.modelValue})},null,8,["icon","onClick"])]),_:2},1032,["modelValue","onUpdate:modelValue","onKeydown"])]),_:1},8,["queryItems","onSearch","onToggle"]),e(K,G(F({selectedTotal:a(f).length})),{buttonGroup:l(()=>[e(C,{type:"add"},{default:l(()=>o[1]||(o[1]=[w("新建")])),_:1}),e(C,{type:"import"},{default:l(()=>o[2]||(o[2]=[w("导入")])),_:1})]),_:1},16)])]),_:1},8,["query","columns","loadDataApi","onSelectionChange"])])}}}),le={class:"page-list"},se=I({__name:"index",setup(x){const{filter:g}=Z(),r=v(!0),b=()=>{r.value=!1,q(()=>{r.value=!0})},p=v("1"),m=()=>{b(),g.resetQueryChche("mock-demo4")},h=u=>{u&&u.type&&(p.value=u.type)};return(u,s)=>{const c=n("el-tab-pane"),d=n("el-tabs");return V(),$("div",le,[e(d,{modelValue:p.value,"onUpdate:modelValue":s[0]||(s[0]=f=>p.value=f),onTabChange:m,style:{padding:"0 16px"}},{default:l(()=>[e(c,{name:"1",label:"待审核列表"}),e(c,{name:"2",label:"已审核列表"})]),_:1},8,["modelValue"]),r.value?(V(),J(ne,{key:0,style:{height:"calc(100% - 40px)"},activeType:p.value,onQueryCacheInit:h},null,8,["activeType"])):M("",!0)])}}});const ce=ee(se,[["__scopeId","data-v-51bf77a6"]]);export{ce as default};
