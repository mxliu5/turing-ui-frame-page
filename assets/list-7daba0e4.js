import{g as S,a2 as $,k as P,F as R,G as W,r as l,o as A,p as B,N as o,l as s,u as D,a1 as a,M as Q,a6 as U,v as y}from"./vendor-31e96ae5.js";import{u as G,g as H}from"./index-10a79b7e.js";import{u as L}from"./useTablePage-7b6d25a8.js";const O={class:"mock-list"},z={class:"flexBetween"},g="mock-demo3",K=S({__name:"list",setup(E){const{t:p}=$(),{$app:m,proxy:_,$router:b}=G(),{query:n,queryItems:u,searchQuery:h,selectedIds:f,handleSelectionChange:v}=L(g);n.value={type:void 0,selectValue:"name",name:""},u.value={type:{type:"el-select",label:"类型",width:"160px",options:[{value:1,label:"黑名单"},{value:2,label:"白名单"}]},name:{modelValue:"",type:"slot",slotName:"name"}};const w=P([{prop:"name",label:"名称",minWidth:180},{prop:"appId",label:"APPID",minWidth:180},{prop:"type",label:"类型",minWidth:150,custom:"tag-status",customRender:{options:{1:{type:"danger",name:"黑名单"},2:{type:"primary",name:"白名单"}}}},{prop:"status",label:"状态",minWidth:150,custom:"status",customRender:{options:{1:{type:"success",name:"已发布"},2:{type:"info",name:"未发布"},3:{type:"danger",name:"已驳回"},4:{type:"warning",name:"上线审核中"},5:{type:"primary",name:"下线审核中"}}}},{prop:"date",label:"更新时间",minWidth:180},{prop:"operation",label:"操作",width:180,fixed:"right"}]),V=t=>t.map(e=>e),q=[{type:"detail",label:p("btn.detail")},{type:"delete",label:p("btn.delete"),btnType:"danger",disabled:t=>t.status===3}],x=t=>{const{type:e,record:r}=t;d[e](r)},d=R({toggleQuery(){W(()=>{_.$refs.myTableRef.mediaHeight()})},detail:t=>{b.push({name:`${g}::detail`,query:{id:t.id}})},delete:t=>{m.$deleteConfirm({title:p("tip.deleteConfirmTitle",{t:"模版名称",n:t.name})}).then(()=>{console.log("删除",t),m.$message.warning("接口待提供！")})}});return(t,e)=>{const r=l("el-option"),T=l("el-select"),C=l("el-input"),k=l("tu-query"),c=l("tu-button"),I=l("my-operation"),N=l("table-page");return A(),B("div",O,[o(N,{ref:"myTableRef",query:a(n),columns:w.value,operations:q,tableAttrs:{"row-key":"id"},"with-order":!1,draggable:"","draggable-option":{show:!0,width:"80",align:"center"},loadDataApi:a(H),transformListData:V,onHandleOperation:x,onSelectionChange:a(v)},{query:s(()=>[D("div",z,[o(k,{query:a(n),queryItems:a(u),"search-btn":{show:!0},onSearch:a(h),onToggle:d.toggleQuery},{name:s(({item:F})=>[o(C,{modelValue:a(n).name,"onUpdate:modelValue":e[1]||(e[1]=i=>a(n).name=i),style:{width:"320px"},placeholder:"请输入内容"},{prepend:s(()=>[o(T,{modelValue:a(n).selectValue,"onUpdate:modelValue":e[0]||(e[0]=i=>a(n).selectValue=i),placeholder:"Select",style:{width:"80px"}},{default:s(()=>[o(r,{label:"名称",value:"name"}),o(r,{label:"创建人",value:"createUser"})]),_:1},8,["modelValue"])]),_:1},8,["modelValue"])]),_:1},8,["query","queryItems","onSearch","onToggle"]),o(I,Q(U({selectedTotal:a(f).length})),{buttonGroup:s(()=>[o(c,{type:"add"},{default:s(()=>e[2]||(e[2]=[y("新建")])),_:1}),o(c,{type:"import"},{default:s(()=>e[3]||(e[3]=[y("导入")])),_:1})]),_:1},16)])]),_:1},8,["query","columns","loadDataApi","onSelectionChange"])])}}});export{K as default};
